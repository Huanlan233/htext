<script>

    function loadComments() {
        if (!document.getElementById('twikoo')) {
            return;
        }
        if (typeof Twikoo === 'undefined') {
            const getScript = (options) => {
                const script = document.createElement('script');
                script.defer = true;
                script.crossOrigin = 'anonymous';
                Object.keys(options).forEach((key) => {
                    script[key] = options[key];
                });
                document.body.appendChild(script);
            };

            getScript({
                src: 'https://cdn.jsdelivr.net/npm/twikoo@1.6.36/dist/twikoo.all.min.js',
                onload: () => {
                    newTwikoo();
                }
            });
        }
    }
    function newTwikoo() {
        twikoo.init({
            el: "#twikoo",
            envId: {{ .Site.Params.twikooEnvId }},
            path: {{ .Site.Params.twikooPath }},
            region: {{ .Site.Params.twikooRegion }},
            lang: {{ .Site.Params.twikooLang }}
        });
    }
</script>